<!doctype html>
<html lang="en">

<head>
    <title>Rendering complex objects (with directives)</title>
    <link rel="stylesheet" href="../css/site.css" />
    <script src="../lib/demo.js"></script>
</head>

<body class="view-demo">
    <h1>Complex object, customized data</h1>
    <p id="Description">Sometimes the data that you recieve from the server side isn't a 100% match for the view. The easiest thing to do then
        is to modify it using directives.
    </p>
    <h2>View</h2>
    <div id="MyView">
        <h2 data-name="FirstName"></h2>
        <div data-name="Address">
            <span data-name="PostalCode"></span>
            <span data-name="City"></span>
        </div>
    </div>

    <script src="../lib/Griffin.Yo.js"></script>
    <script id="example-script" type="text/javascript">
        var Yo = Griffin.Yo;

        function invokeDemo() {

            var data = {
                FirstName: "Jonas",
                Address: {
                    City: "Falun",
                    PostalCode: "791 00"
                }
            };

            // do not have to specify directives for everything.
            var directives = {
                FirstName: {
                    //second argument is the object at the current level.
                    text(value, dto) { return value + " [" + dto.Address.PostalCode + "]"; }
                },
                Address: {
                    City: {
                        //DTO = Address
                        html(value, dto) { return '&lt;' + value + '&gt;'; }
                    }
                }
            };
            Yo.G.render('MyView', data, directives);
        }
    </script>
</body>

</html>