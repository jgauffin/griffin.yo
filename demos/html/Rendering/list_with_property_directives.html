<!doctype html>
<html lang="en">

<head>
    <title>Collection - Composite property</title>
    <link rel="stylesheet" href="../css/site.css" />
    <script src="../lib/demo.js"></script>
</head>

<body class="view-demo">
    <h1>Composite property</h1>
    <p id="Description">This example illustrates how you can use directives to generate missing properties (or merge properties) without having
        to modify the JSON object that you got from the server.</p>
    <h2>View</h2>
    <div id="MyView">
        <h2 data-name="Title"></h2>
        <ul>
            <li data-collection="Items">
                <span data-name="Name"></span>
            </li>
        </ul>
    </div>

    <script src="../lib/Griffin.Yo.js"></script>
    <script id="example-script" type="text/javascript">
        var Yo = Griffin.Yo;

        // the data do not have the property that we want to use.
        // let's generate it on the fly.
        function invokeDemo() {
            var data = {
                Title: 'JSON modification',
                Items: [
                    { FirstName: 'Adam', LastName: 'Sharp' },
                    { FirstName: 'Bertil', LastName: 'CPlus' },
                    { FirstName: 'Ceasar', LastName: 'Slow' }
                ]
            };

            var directives = {
                Items: {
                    Name: {
                        text(value, dto) {
                            return dto.FirstName + ' ' + dto.LastName;
                        }
                    }
                }
            };
            Yo.G.render('MyView', data, directives);
        }
    </script>
</body>

</html>