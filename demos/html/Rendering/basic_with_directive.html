<!doctype html>
<html lang="en">

<head>
    <title>Basic rendering (using directives)</title>
    <link rel="stylesheet" href="../css/site.css" />
    <script src="../lib/demo.js"></script>
</head>

<body class="view-demo">
    <h1>Using directives</h1>
    <p id="Description">Directives enable you do two control how the JSON data is rendered. It can be to generate composite properties or as
        in this example dynamically style the contents.
    </p>

    <div id="MyView">
        <h2 data-name="Name"></h2>
        <button id="withHtml">Render using html</button>
    </div>

    <script src="../lib/Griffin.Yo.js"></script>
    <script id="example-script" type="text/javascript">
        var Yo = Griffin.Yo;

        function invokeDemo() {

            var directives = {
                Name: {
                    text(value) { return value + ' <span>(HTML as text)</span>'; },
                    style(value) { return 'color: red'; },
                    class(value) { return 'someClass'; }
                }
            };

            var dto = { Name: 'Arne' };

            Yo.G.render('MyView', dto, directives);
        }

        // use "html" to allow HTML in the data.
        document.getElementById('withHtml').addEventListener('click', function (e) {
            e.preventDefault();
            var partialDirective = {
                Name: {
                    html(value) {
                        return value + ' <span>(HTML as text)</span>';
                    }
                }
            };
            var dto = { Name: 'Second nature' };
            Yo.G.render('MyView', dto, partialDirective);
        });
    </script>
</body>

</html>